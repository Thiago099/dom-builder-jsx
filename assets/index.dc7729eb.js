var ne=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var Q=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var d=(n,e,t)=>(ne(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(c){if(c.ep)return;c.ep=!0;const i=t(c);fetch(c.href,i)}})();var D={exports:{}},re=function(){var n=[],e=[],t=[],l=null,c=function(r,s){return s.split(".").reduce(function(f,y){return f?f[y]:void 0},r||self)},i=function(r,s,f,y){var h=f||null,m=y||[{target:r,property:""}];r instanceof Array&&(r.hasOwnProperty("__length")?r.__length=r.length:Object.defineProperty(r,"__length",{enumerable:!1,value:r.length,writable:!0}));var _=[],C=function(o,u,p){for(var a="",b=null,v=0;v<m.length;v++)b instanceof Array&&!isNaN(m[v].property)&&(m[v].property=b.indexOf(m[v].target)),a=a+"."+m[v].property,b=m[v].target;return a=a+"."+u,a=a.substring(2),p===!0&&(a="/"+a.replace(/\./g,"/")),a},A=function(o){if(h.paused!==!0){var u=typeof s=="number";if(u||s===!0)setTimeout(function(){if(o===_.length){var b=_.slice(0);_=[];for(var v=0;v<h.observers.length;v++)h.observers[v](b)}},u&&s>0?s:10);else{var p=_.slice(0);_=[];for(var a=0;a<h.observers.length;a++)h.observers[a](p)}}},T={get:function(o,u){if(u==="__getTarget")return o;if(u==="__isProxy")return!0;if(u==="__getParent")return function(S){if(typeof S>"u")var S=1;var B=C(o,"__getParent").split(".");return B.splice(-(S+1),S+1),c(h.parentProxy,B.join("."))};if(u==="__getPath"){var p=C(o,"__getParent");return p.slice(0,-12)}var a=o[u];if(o instanceof Date&&a instanceof Function&&a!==null)return a.bind(o);if(a instanceof Object&&a!==null&&o.hasOwnProperty(u)){if(a.__isProxy===!0&&(a=a.__getTarget),a.__targetPosition>-1&&e[a.__targetPosition]!==null){for(var b=t[a.__targetPosition],v=0,P=b.length;v<P;v++)if(h===b[v].observable)return b[v].proxy}var k=m.slice(0);return k.push({target:a,property:u}),i(a,s,h,k)}else return a},deleteProperty:function(o,u){var p=!0;l===M&&(p=!1,l=null);var a=Object.assign({},o);if(_.push({type:"delete",target:o,property:u,newValue:null,previousValue:a[u],currentPath:C(o,u),jsonPointer:C(o,u,!0),proxy:M}),p===!0){h.changesPaused||delete o[u];for(var b=0,v=e.length;b<v&&o!==e[b];b++);for(var P=t[b]||[],k=P.length;k--;)P[k].proxy!==M&&(l=P[k].proxy,delete P[k].proxy[u])}return A(_.length),!0},set:function(o,u,p,a){p&&p.__isProxy&&(p=p.__getTarget);var b=!0;l===M&&(b=!1,l=null);var v=o[u];if(v!==p||b===!1||u==="length"&&o instanceof Array&&o.__length!==p){var P=!0,k=typeof v,Z="update";if(k==="undefined"&&(Z="add"),_.push({type:Z,target:o,property:u,newValue:p,previousValue:a[u],currentPath:C(o,u),jsonPointer:C(o,u,!0),proxy:M}),u==="length"&&o instanceof Array&&o.__length!==p&&(_[_.length-1].previousValue=o.__length,o.__length=p),b===!0){h.changesPaused||(o[u]=p),P=!1;for(var S=o.__targetPosition,B=t[S].length;B--;)if(h===t[S][B].observable&&e[t[S][B].observable.parentTarget.__targetPosition]!==null){P=!0;break}if(P){for(var G=t[S],R=0,ee=G.length;R<ee;R++)G[R].proxy!==M&&(l=G[R].proxy,G[R].proxy[u]=p);setTimeout(function(){if(k==="object"&&v!==null){for(var $=Object.keys(o),U=0,te=$.length;U<te;U++)if(o[$[U]]===v)return;var z=!1;if(function W(F){for(var q=Object.keys(F),x=0,H=q.length;x<H;x++){var K=q[x],E=F[K];if(E instanceof Object&&E!==null&&W(E),E===v){z=!0;return}}}(o),z===!0)return;(function W(F){for(var q=Object.keys(F),x=0,H=q.length;x<H;x++){var K=F[q[x]];K instanceof Object&&K!==null&&W(K)}for(var E=-1,x=0,H=e.length;x<H;x++)if(F===e[x]){E=x;break}if(E>-1){for(var J=t[E],X=J.length;X--;)if(h===J[X].observable){J.splice(X,1);break}J.length==0&&(e[E]=null)}})(v)}},1e4)}}P&&A(_.length)}return!0}},L=r.__targetPosition;L>-1||Object.defineProperty(r,"__targetPosition",{value:e.length,writable:!1,enumerable:!1,configurable:!1});var M=new Proxy(r,T);h===null&&(h={parentTarget:r,domDelay:s,parentProxy:M,observers:[],paused:!1,path:m,changesPaused:!1},n.push(h));var Y={target:r,proxy:M,observable:h};return L>-1?(e[L]===null&&(e[L]=r),t[L].push(Y)):(e.push(r),t.push([Y])),M};return{create:function(r,s,f){if(r.__isProxy===!0)var r=r.__getTarget;var y=i(r,s);return typeof f=="function"&&this.observe(y,f),function h(m){for(var _=m.__getTarget,C=Object.keys(_),A=0,T=C.length;A<T;A++){var L=C[A];_[L]instanceof Object&&_[L]!==null&&h(m[L])}}(y),y},observe:function(r,s){for(var f=n.length;f--;)if(n[f].parentProxy===r){n[f].observers.push(s);break}},pause:function(r){for(var s=n.length,f=!1;s--;)if(n[s].parentProxy===r){n[s].paused=!0,f=!0;break}if(f==!1)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(r){for(var s=n.length,f=!1;s--;)if(n[s].parentProxy===r){n[s].paused=!1,f=!0;break}if(f==!1)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(r){for(var s=n.length,f=!1;s--;)if(n[s].parentProxy===r){n[s].changesPaused=!0,f=!0;break}if(f==!1)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(r){for(var s=n.length,f=!1;s--;)if(n[s].parentProxy===r){n[s].changesPaused=!1,f=!0;break}if(f==!1)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(r){for(var s=null,f=!1,y=n.length;y--;)if(n[y].parentProxy===r){s=n[y],f=!0;break}for(var h=t.length;h--;)for(var m=t[h].length;m--;)t[h][m].observable===s&&(t[h].splice(m,1),t[h].length===0&&(e[h]=null));f===!0&&n.splice(y,1)}}}();try{D.exports=re}catch{}function se(n){const e=[];function t(c){e.push(c)}n.__subscribe=t;const l=D.exports.create(n,!0,c=>{for(const i of e)i(l)});return l}var g,w,V,I,O,N;class ie{constructor(e){Q(this,g);Q(this,V);Q(this,O);this.element=document.createElement(e),this.events=[]}effect(e){return e.__subscribe(()=>{for(const t of this.events)t()}),this}class(e,t=!0){if(d(this,O,N).call(this,e))var l=d(this,g,w).call(this,e);return d(this,V,I).call(this,d(this,O,N).call(this,e,t),()=>{const c=d(this,g,w).call(this,e);c&&(d(this,g,w).call(this,t)?(d(this,O,N).call(this,e)&&(l&&this.element.classList.remove(...l.split(" ")),l=c),this.element.classList.add(...c.split(" "))):(this.element.classList.remove(...c.split(" ")),l=null))}),this}parent(e){return e.element!==void 0?(e.element.appendChild(this.element),this.events.push(...e.events)):e.appendChild(this.element),this}parentBefore(e){return e.element!==void 0?e.element.firstChild?e.element.insertBefore(this.element,e.element.firstChild):e.element.appendChild(this.element):e.firstChild?e.insertBefore(this.element,e.firstChild):e.appendChild(this.element),this}event(e,t){return this.element.addEventListener(e,t),this}property(e,t){return d(this,V,I).call(this,d(this,O,N).call(this,e,t),()=>{this.element[d(this,g,w).call(this,e)]=d(this,g,w).call(this,t)}),this}style(e,t){return d(this,V,I).call(this,d(this,O,N).call(this,e,t),()=>{this.element.style[d(this,g,w).call(this,e)]=d(this,g,w).call(this,t)}),this}html(e){return d(this,V,I).call(this,d(this,O,N).call(this,e),()=>{this.element.innerHTML=d(this,g,w).call(this,e)}),this}text(e){const t=document.createTextNode(d(this,g,w).call(this,e));this.element.appendChild(t),d(this,V,I).call(this,d(this,O,N).call(this,e),()=>{t.textContent=d(this,g,w).call(this,e)})}remove(){this.element.remove()}model(e,t){this.property("value",e),this.event("input",l=>{t(l.target.value)})}}g=new WeakSet,w=function(e){return typeof e=="function"?e():e},V=new WeakSet,I=function(e,t){e?(t(),this.events.push(t)):t()},O=new WeakSet,N=function(...e){for(const t of e)if(typeof t=="function")return!0;return!1};function le(n){return new ie(n)}const j=(n,e,...t)=>{var l;typeof n=="function"?l=n(e,...t):l=le(n);const c={ref:i=>{const r=Object.entries(e).find(([s,f])=>s==="id");if(r){i[r[1]]=l;return}},style:i=>{if(typeof i=="object")for(const[r,s]of Object.entries(i))l.style(r,s);else{const r=i.split(";");for(const s of r){const[f,y]=s.split(":");l.style(f,y)}}},class:i=>{if(typeof i=="object")for(const[r,s]of Object.entries(i))l.class(r,s);else l.class(i)},effect:i=>{l.effect(i)},parent:i=>{l.parent(i)}};if(e)for(const[i,r]of Object.entries(e))c[i]?c[i](r):l.property(i,r);if(t)for(const i of t)i.element?i.parent(l):l.text(i);return l};function oe(){const n=se({count:0}),e=j("button",{class:"button",effect:n},"Count is: ",()=>n.count);return e.event("click",()=>n.count++),e}function ae({text:n}){return j("h1",{class:"title"},n)}function fe(){const n={},e=j("div",null,j("button",{class:"button",id:"main",ref:n},"Main"),j("button",{class:"button",id:"secondary",ref:n},"Secondary"));return n.main.event("click",()=>alert("Main button clicked")),n.secondary.event("click",()=>alert("Secondary button clicked")),e}const ue=j("div",{class:"container"},j(ae,{text:"vite + jsx-dom-builder"}),j(oe,null),j(fe,null));ue.parent(document.body);
